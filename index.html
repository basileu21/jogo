<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fortune Slots</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #2c3e50;
            position: relative;
            overflow: hidden;
            color: white;
        }

        .container {
            text-align: center;
            background: rgba(52, 73, 94, 0.8);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
            position: relative;
            z-index: 1;
        }

        input {
            margin: 10px 0;
            padding: 10px;
            width: 80%;
        }

        button {
            padding: 10px 15px;
            cursor: pointer;
            background-color: #e67e22;
            color: white;
            border: none;
            border-radius: 5px;
            margin: 5px;
        }

        button:hover {
            background-color: #d35400;
        }

        #slot-machine {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }

        .slot {
            width: 80px;
            height: 80px;
            margin: 0 5px;
            border: 2px solid #e67e22;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            background: #2980b9;
            font-size: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .money-flying {
            position: absolute;
            width: 100px;
            height: 100px;
            animation: fly 1s forwards;
            z-index: 2;
        }

        @keyframes fly {
            0% { transform: translateY(0) scale(0.5); }
            100% { transform: translateY(-200px) scale(1); opacity: 0; }
        }

        .win-message {
            position: fixed;
            top: 20%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3em;
            color: gold;
            display: none;
            z-index: 3;
            animation: fadeIn 1s forwards;
        }

        @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>Fortune Slots</h1>
        <div id="register-section">
            <h2>Cadastro</h2>
            <input type="text" id="username" placeholder="Digite seu nome">
            <button onclick="register()">Cadastrar</button>
            <p id="message"></p>
        </div>
        <div id="game-section" style="display:none;">
            <h2>Bem-vindo, <span id="user-display"></span>!</h2>
            <p>Banca: R$<span id="bankroll">40</span></p>
            <div>
                <input type="number" id="deposit-amount" placeholder="Valor do Dep√≥sito" min="1">
                <button onclick="deposit()">Depositar</button>
                <input type="number" id="withdraw-amount" placeholder="Valor do Saque" min="1">
                <button onclick="withdraw()">Sacar via PIX</button>
            </div>
            <div id="slot-machine">
                <div class="slot" id="slot1"></div>
                <div class="slot" id="slot2"></div>
                <div class="slot" id="slot3"></div>
                <div class="slot" id="slot4"></div>
                <div class="slot" id="slot5"></div>
                <div class="slot" id="slot6"></div>
            </div>
            <button id="spin-button" onclick="playSlot()">Girar</button>
            <button id="auto-spin-button" onclick="startAutoSpin()">Rodadas Autom√°ticas</button>
            <div id="slot-result"></div>
        </div>
        <div class="win-message" id="win-message"></div>
    </div>
    <audio id="win-sound" src="https://www.soundjay.com/button/sounds/button-3.mp3"></audio>
    <audio id="lose-sound" src="https://www.soundjay.com/button/sounds/button-7.mp3"></audio>
    <audio id="animal-sound" src="https://www.soundjay.com/animal/sounds/animal-1.mp3"></audio>
    <script>
        let bankroll = 40; // Inicializando a banca com R$40
        let username = '';
        let autoSpinInterval = null;
        let freeSpinCount = 0;
        let wins = 0;

        const symbols = [
            'üçé',  // Ma√ß√£
            'üçå',  // Banana
            'üçí',  // Cereja
            'üçá',  // Uva
            'üçä',  // Laranja
            'üèÖ',  // Emoji de rodadas gr√°tis
            'üí∞',  // Emoji de dinheiro
            'üçâ',  // Melancia
            'üçç',  // Abacaxi
        ];

        function register() {
            username = document.getElementById('username').value;
            if (username) {
                document.getElementById('user-display').innerText = username;
                document.getElementById('register-section').style.display = 'none';
                document.getElementById('game-section').style.display = 'block';
                document.getElementById('message').innerText = '';
            } else {
                document.getElementById('message').innerText = 'Por favor, insira um nome.';
            }
        }

        function deposit() {
            const amount = parseFloat(document.getElementById('deposit-amount').value);
            if (amount > 0) {
                bankroll += amount; // Adiciona o valor depositado √† banca
                document.getElementById('bankroll').innerText = bankroll;
                alert(`Voc√™ depositou R$${amount.toFixed(2)}!`);
            } else {
                alert('Digite um valor v√°lido para dep√≥sito.');
            }
        }

        function withdraw() {
            const amount = parseFloat(document.getElementById('withdraw-amount').value);
            if (amount > 0 && amount <= bankroll) {
                alert(`Para sacar R$${amount.toFixed(2)}, envie o PIX para 14210186759.`);
                bankroll -= amount; // Deduz o valor sacado da banca
                document.getElementById('bankroll').innerText = bankroll;
            } else {
                alert('Digite um valor v√°lido para saque.');
            }
        }

        function playSlot() {
            if (bankroll > 0 || freeSpinCount > 0) {
                if (bankroll > 0) {
                    bankroll -= 1; // Deduz 1 real para jogar
                    document.getElementById('bankroll').innerText = bankroll;
                }

                const results = [];
                for (let i = 0; i < 6; i++) {
                    const randomIndex = Math.floor(Math.random() * symbols.length);
                    results.push(symbols[randomIndex]);
                    const slot = document.getElementById(`slot${i + 1}`);
                    slot.innerText = symbols[randomIndex]; // Mostra o emoji
                }

                setTimeout(() => {
                    evaluateResults(results);
                }, 700);
            } else {
                alert("Voc√™ n√£o tem mais dinheiro para jogar!");
            }
        }

        function evaluateResults(results) {
            const count = {};
            results.forEach(symbol => {
                count[symbol] = (count[symbol] || 0) + 1;
            });

            let payout = 0;
            if (count['üèÖ'] >= 3) {
                freeSpinCount += 10; // Adiciona 10 rodadas gr√°tis
                alert(`Rodadas gr√°tis ativadas! Voc√™ agora tem ${freeSpinCount} rodadas.`);
            }

            if (count['üí∞'] === 6) {
                payout = 500; // Jackpot reduzido para facilitar as vit√≥rias
            } else {
                payout = count['üçé'] * 2 + count['üçå'] * 2 + count['üçí'] * 2; // Pagamentos menores
            }

            if (payout > 0) {
                bankroll += payout;
                wins++;
                showWinAnimation(payout);
                document.getElementById('slot-result').innerText = `Voc√™ ganhou R$${payout.toFixed(2)}!`;
                document.getElementById('win-sound').play();
            } else {
                document.getElementById('slot-result').innerText = "Voc√™ n√£o ganhou desta vez.";
                wins = 0; // Reseta vit√≥rias ap√≥s uma perda
                document.getElementById('lose-sound').play();
            }

            document.getElementById('bankroll').innerText = bankroll;

            // Reduz rodadas gr√°tis
            if (freeSpinCount > 0) {
                freeSpinCount--;
                if (freeSpinCount === 0) {
                    alert("Fim das rodadas gr√°tis!");
                }
            }

            // Som de animal ao jogar
            document.getElementById('animal-sound').play();
        }

        function showWinAnimation(payout) {
            const winMessage = document.getElementById('win-message');
            winMessage.innerText = `Vit√≥ria: R$${payout.toFixed(2)}`;
            winMessage.style.display = 'block';
            setTimeout(() => {
                winMessage.style.display = 'none';
            }, 3000);

            // Anima√ß√£o de dinheiro voando
            const moneyFly = document.createElement('img');
            moneyFly.src = 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Animated_Gold_Coin.gif/100px-Animated_Gold_Coin.gif';
            moneyFly.className = 'money-flying';
            moneyFly.style.left = `${Math.random() * 100}vw`;
            document.body.appendChild(moneyFly);

            // Remove o dinheiro ap√≥s a anima√ß√£o
            setTimeout(() => {
                moneyFly.remove();
            }, 1000);
        }

        function startAutoSpin() {
            if (autoSpinInterval) {
                clearInterval(autoSpinInterval);
                autoSpinInterval = null;
                document.getElementById('auto-spin-button').innerText = 'Rodadas Autom√°ticas';
            } else {
                autoSpinInterval = setInterval(playSlot, 1000); // Jogar a cada segundo
                document.getElementById('auto-spin-button').innerText = 'Parar';
            }
        }
    </script>
</body>
</html>
